{% extends 'base.html.twig' %}

{% block title %}
    {{ editMode ? 'Modifier un module' : 'Ajouter un module' }}
{% endblock %}

{% block body %}
<div class="container mt-4">
    <h1>{{ editMode ? 'Modifier un module' : 'Ajouter un module' }}</h1>

    {{ form_start(form) }}
        {{ form_widget(form) }}
        <div class="mt-3 d-flex justify-content-between">
            <a href="{{ path('module_list') }}" class="btn btn-bleu btn-secondary">Retour à la liste</a>
            <button class="btn btn-primary">
                {{ editMode ? 'Enregistrer les modifications' : 'Créer' }}
            </button>
        </div>
    {{ form_end(form) }}

    {% if editMode %}
        <hr>
        <form method="post"
              action="{{ path('module_delete', {'id': form.vars.value.id}) }}"
              onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer ce module ?');">
            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ form.vars.value.id) }}">
            <button class="btn btn-rouge">Supprimer</button>
        </form>
    {% endif %}
</div>
{% endblock %}
